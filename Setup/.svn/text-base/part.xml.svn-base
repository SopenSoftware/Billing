<?xml version="1.0" encoding="utf-8"?>
<application>
    <name>Billing</name>
    <version>1.0</version>
    <order>11</order>
    <depends>
        <application>Admin</application>
    </depends>
	<tables>
		<table>
			<name>bill_payment</name>	
			<version>1</version>
			<engine>InnoDB</engine>
	     	<charset>utf8</charset>
			<declaration>
                <field>
                    <name>id</name>
                    <type>integer</type>
                    <autoincrement>true</autoincrement>
                </field>
				<field>
                    <name>receipt_id</name>
                    <type>integer</type>
                    <notnull>true</notnull>
                </field>
				<field>
                    <name>open_item_id</name>
                    <type>integer</type>
                    <notnull>false</notnull>
                </field>
				<field>
                    <name>contact_id</name>
                    <type>integer</type>
                    <notnull>false</notnull>
                </field>				
				<field>
                    <name>payment_date</name>
                    <type>date</type>
                    <notnull>false</notnull>
			    </field>
				<field>
                    <name>amount</name>
                    <type>float</type>
                    <notnull>true</notnull>
			    </field>
				<field>
                    <name>usage</name>
                    <type>text</type>
                    <notnull>false</notnull>
			    </field>
				<index>
                    <name>id</name>
                    <primary>true</primary>
                    <field>
                        <name>id</name>
                    </field>
                </index>
				<index>
                    <name>fk_bill_payment_receipt</name>
                    <foreign>true</foreign>
                    <field>
                        <name>receipt_id</name>
                    </field>
 					<reference>
                        <table>bill_receipt</table>
                        <field>id</field>
                        <ondelete>CASCADE</ondelete>
						<onupdate>CASCADE</onupdate>
                    </reference>				
                </index>
				<index>
                    <name>fk_bill_payment_open_item</name>
                    <foreign>true</foreign>
                    <field>
                        <name>open_item_id</name>
                    </field>
 					<reference>
                        <table>bill_receipt</table>
                        <field>id</field>
                        <ondelete>CASCADE</ondelete>
						<onupdate>CASCADE</onupdate>
                    </reference>				
                </index>				
				<index>
                    <name>fk_bill_payment_contact</name>
                    <foreign>true</foreign>
                    <field>
                        <name>contact_id</name>
                    </field>
 					<reference>
                        <table>addressbook</table>
                        <field>id</field>
                        <ondelete>CASCADE</ondelete>
						<onupdate>CASCADE</onupdate>
                    </reference>				
                </index>
			</declaration>
		</table>
	</tables>
</application>